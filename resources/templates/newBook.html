<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>Library Management System</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
	<script>
        function toggleBorrowedByField() {
            var checkbox = document.getElementById("borrowed");
            var borrowedByField = document.getElementById("borrowedByField");
            if (checkbox.checked) {
                borrowedByField.style.display = "block";
            } else {
                borrowedByField.style.display = "none";
            }
        }
    </script>
</head>
<body>
	<div class="container">
		<hr>
		<h3>Add New Book</h3>
		<form th:action="@{/books/save}" th:object="${book}" method="POST">
            <input type="text" th:field="*{title}" placeholder="Title of Book" 
            	class="form-control mb-4 col-4">
            <input type="text" th:field="*{author}" placeholder="Author of Book" 
            	class="form-control mb-4 col-4">
            <div class="form-check">
                <input type="checkbox" id="borrowed" th:field="*{borrowed}" class="form-check-input" onclick="toggleBorrowedByField()">
                <label class="form-check-label" for="borrowed">Borrowed</label>
            </div>
            <!-- Borrowed By Field (Hidden initially) -->
            <div id="borrowedByField" style="display: none;" class="mt-3">
                <input type="text" th:field="*{borrowedby}" placeholder="Borrowed By User ID" class="form-control mb-4 col-4">
            </div>
            
            <button type="submit" class="btn btn-info col-2">Save Book</button>
		</form>
		<hr>
		<a th:href="@{/books/}">Back to Books List</a>
	</div>
</body>
</html>